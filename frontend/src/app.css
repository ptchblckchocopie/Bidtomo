@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Bauhaus Design Tokens ── */
:root {
  --color-bg: #F0F0F0;
  --color-fg: #121212;
  --color-red: #D02020;
  --color-blue: #1040C0;
  --color-yellow: #F0C020;
  --color-border: #121212;
  --color-muted: #E0E0E0;
  --color-white: #FFFFFF;
  --color-green: #22c55e;

  --color-bg-rgb: 240 240 240;
  --color-fg-rgb: 18 18 18;
  --color-red-rgb: 208 32 32;
  --color-blue-rgb: 16 64 192;
  --color-yellow-rgb: 240 192 32;
  --color-border-rgb: 18 18 18;
  --color-muted-rgb: 224 224 224;
  --color-white-rgb: 255 255 255;

  --shadow-bh-sm: 3px 3px 0px #121212;
  --shadow-bh-md: 5px 5px 0px #121212;

  --border-bh: 3px;
  --border-bh-lg: 5px;
}

/* ── Dark Mode — Refined Palette ── */
html.dark {
  --color-bg: #0D0D14;
  --color-fg: #E8E8F0;
  --color-red: #FF5555;
  --color-blue: #5B8DEF;
  --color-yellow: #FFD24D;
  --color-border: #2A2A3A;
  --color-muted: #161622;
  --color-white: #13131F;
  --color-green: #5AE879;

  --color-bg-rgb: 13 13 20;
  --color-fg-rgb: 232 232 240;
  --color-red-rgb: 255 85 85;
  --color-blue-rgb: 91 141 239;
  --color-yellow-rgb: 255 210 77;
  --color-border-rgb: 42 42 58;
  --color-muted-rgb: 22 22 34;
  --color-white-rgb: 19 19 31;

  --shadow-bh-sm: 0 2px 12px rgba(0, 0, 0, 0.4);
  --shadow-bh-md: 0 4px 24px rgba(0, 0, 0, 0.5);
}

/* ── Global Base ── */
@layer base {
  body {
    font-family: 'Outfit', sans-serif;
    background-color: var(--color-bg);
    color: var(--color-fg);
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* Bauhaus: no rounded corners (except explicit rounded-full for circles) */
  *,
  *::before,
  *::after {
    border-radius: 0 !important;
  }

  /* Allow rounded-full to work for badges/circles */
  .rounded-full {
    border-radius: 9999px !important;
  }
}

/* ── Bauhaus Component Classes ── */
@layer components {
  /* ── Buttons ── */
  .btn-bh {
    @apply inline-flex items-center justify-center px-5 py-2.5 font-bold text-sm
           border-bh border-bh-border bg-bh-muted text-bh-fg
           shadow-bh-sm cursor-pointer;
    transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.15s cubic-bezier(0.4, 0, 0.2, 1),
                background-color 0.15s ease;
  }
  .btn-bh:hover {
    @apply translate-y-0.5;
    box-shadow: 1px 1px 0px var(--color-border);
  }
  .btn-bh:active {
    @apply translate-y-1;
    box-shadow: none;
    transition-duration: 0.05s;
  }
  .btn-bh:disabled {
    @apply opacity-50 cursor-not-allowed translate-y-0;
    box-shadow: var(--shadow-bh-sm);
  }

  .btn-bh-red {
    @apply btn-bh bg-bh-red text-white;
  }

  .btn-bh-blue {
    @apply btn-bh bg-bh-blue text-white;
  }

  .btn-bh-yellow {
    @apply btn-bh bg-bh-yellow text-bh-fg;
  }

  .btn-bh-outline {
    @apply btn-bh bg-transparent text-bh-fg;
  }

  /* ── Card ── */
  .card-bh {
    @apply border-bh border-bh-border shadow-bh-sm;
    background-color: var(--color-white);
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* ── Input ── */
  .input-bh {
    @apply w-full px-3 py-2.5 text-base font-outfit
           border-bh border-bh-border text-bh-fg;
    background-color: var(--color-white);
    transition: border-color 0.15s ease, box-shadow 0.15s ease, background-color 0.15s ease;
  }
  .input-bh:focus {
    @apply outline-none ring-2 ring-bh-blue ring-offset-1;
    border-color: var(--color-blue);
  }
  .input-bh:disabled {
    @apply bg-bh-muted cursor-not-allowed;
  }

  /* ── Headline ── */
  .headline-bh {
    @apply font-outfit font-black tracking-tight text-bh-fg uppercase;
  }

  /* ── Divider ── */
  .divider-bh {
    @apply w-full h-1 bg-bh-fg my-8;
  }
}

/* ── Global Micro-Interactions ── */

/* Smooth focus-visible outlines for keyboard navigation */
*:focus-visible {
  outline: 2px solid var(--color-blue);
  outline-offset: 2px;
  transition: outline-offset 0.1s ease;
}

/* Subtle active state for all interactive elements */
a:active,
button:active {
  transition-duration: 0.05s;
}

/* Image loading fade-in */
img {
  opacity: 1;
  transition: opacity 0.3s ease;
}

img[loading="lazy"] {
  opacity: 0;
}

img[loading="lazy"].loaded,
img[loading="lazy"][complete] {
  opacity: 1;
}

/* ══════════════════════════════════════════════════
   Dark Mode — Glassmorphism & Visual Polish
   ══════════════════════════════════════════════════ */

/* Ambient gradient background */
html.dark body {
  background:
    radial-gradient(ellipse at 15% 5%, rgba(91, 141, 239, 0.07) 0%, transparent 40%),
    radial-gradient(ellipse at 85% 95%, rgba(255, 85, 85, 0.05) 0%, transparent 40%),
    radial-gradient(ellipse at 50% 50%, rgba(255, 210, 77, 0.02) 0%, transparent 60%),
    var(--color-bg);
}

/* Glass cards */
html.dark .card-bh {
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-width: 1px;
  border-color: rgba(255, 255, 255, 0.07);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.04);
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
}

html.dark .card-bh:hover {
  border-color: rgba(255, 255, 255, 0.12);
  box-shadow:
    0 12px 40px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

/* Glass inputs */
html.dark .input-bh {
  background: rgba(255, 255, 255, 0.04);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-width: 1px;
  border-color: rgba(255, 255, 255, 0.1);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

html.dark .input-bh:focus {
  border-color: var(--color-blue);
  box-shadow: 0 0 0 3px rgba(91, 141, 239, 0.2);
  background: rgba(255, 255, 255, 0.06);
  outline: none;
}

/* Glass buttons */
html.dark .btn-bh {
  border-width: 1px;
  border-color: rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

html.dark .btn-bh:hover {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  border-color: rgba(255, 255, 255, 0.15);
}

html.dark .btn-bh:active {
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
}

html.dark .btn-bh:disabled {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

html.dark .btn-bh-red {
  background: rgba(255, 85, 85, 0.85);
  border-color: rgba(255, 85, 85, 0.3);
}

html.dark .btn-bh-blue {
  background: rgba(91, 141, 239, 0.85);
  border-color: rgba(91, 141, 239, 0.3);
}

html.dark .btn-bh-yellow {
  color: #0D0D14;
}

/* Glass header */
html.dark .site-header {
  background: rgb(var(--color-red-rgb) / 0.75) !important;
  backdrop-filter: blur(24px) saturate(1.4);
  -webkit-backdrop-filter: blur(24px) saturate(1.4);
  border-bottom-width: 1px !important;
  border-bottom-color: rgba(255, 255, 255, 0.1) !important;
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.4);
}

/* Glass footer */
html.dark .site-footer {
  background: rgba(255, 255, 255, 0.03) !important;
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  color: var(--color-fg) !important;
  border-top-width: 1px !important;
  border-top-color: rgba(255, 255, 255, 0.08) !important;
}

/* Glass divider */
html.dark .divider-bh {
  background: rgba(255, 255, 255, 0.08);
  height: 1px;
}

/* Headline glow */
html.dark .headline-bh {
  text-shadow: 0 0 40px rgba(91, 141, 239, 0.15);
}

/* Smooth focus ring for dark mode */
html.dark *:focus-visible {
  outline-color: var(--color-blue);
  outline-offset: 2px;
}
