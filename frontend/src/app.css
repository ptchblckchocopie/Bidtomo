@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Bauhaus Design Tokens ── */
:root {
  --color-bg: #F0F0F0;
  --color-fg: #121212;
  --color-red: #D02020;
  --color-blue: #1040C0;
  --color-yellow: #F0C020;
  --color-border: #121212;
  --color-muted: #E0E0E0;
  --color-white: #FFFFFF;
  --color-green: #22c55e;

  --color-bg-rgb: 240 240 240;
  --color-fg-rgb: 18 18 18;
  --color-red-rgb: 208 32 32;
  --color-blue-rgb: 16 64 192;
  --color-yellow-rgb: 240 192 32;
  --color-border-rgb: 18 18 18;
  --color-muted-rgb: 224 224 224;
  --color-white-rgb: 255 255 255;

  --shadow-bh-sm: 3px 3px 0px #121212;
  --shadow-bh-md: 5px 5px 0px #121212;

  --border-bh: 3px;
  --border-bh-lg: 5px;
}

/* ── Dark Mode ── */
html.dark {
  --color-bg: #1A1A1A;
  --color-fg: #F0F0F0;
  --color-red: #E83030;
  --color-blue: #2060E0;
  --color-yellow: #F0C020;
  --color-border: #F0F0F0;
  --color-muted: #2A2A2A;
  --color-white: #242424;
  --color-green: #34d399;

  --color-bg-rgb: 26 26 26;
  --color-fg-rgb: 240 240 240;
  --color-red-rgb: 232 48 48;
  --color-blue-rgb: 32 96 224;
  --color-yellow-rgb: 240 192 32;
  --color-border-rgb: 240 240 240;
  --color-muted-rgb: 42 42 42;
  --color-white-rgb: 36 36 36;

  --shadow-bh-sm: 3px 3px 0px rgba(0, 0, 0, 0.5);
  --shadow-bh-md: 5px 5px 0px rgba(0, 0, 0, 0.5);
}

/* ── Global Base ── */
@layer base {
  body {
    font-family: 'Outfit', sans-serif;
    background-color: var(--color-bg);
    color: var(--color-fg);
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* Bauhaus: no rounded corners (except explicit rounded-full for circles) */
  *,
  *::before,
  *::after {
    border-radius: 0 !important;
  }

  /* Allow rounded-full to work for badges/circles */
  .rounded-full {
    border-radius: 9999px !important;
  }
}

/* ── Bauhaus Component Classes ── */
@layer components {
  /* ── Buttons ── */
  .btn-bh {
    @apply inline-flex items-center justify-center px-5 py-2.5 font-bold text-sm
           border-bh border-bh-border bg-bh-muted text-bh-fg
           shadow-bh-sm cursor-pointer;
    transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.15s cubic-bezier(0.4, 0, 0.2, 1),
                background-color 0.15s ease;
  }
  .btn-bh:hover {
    @apply translate-y-0.5;
    box-shadow: 1px 1px 0px var(--color-border);
  }
  .btn-bh:active {
    @apply translate-y-1;
    box-shadow: none;
    transition-duration: 0.05s;
  }
  .btn-bh:disabled {
    @apply opacity-50 cursor-not-allowed translate-y-0;
    box-shadow: var(--shadow-bh-sm);
  }

  .btn-bh-red {
    @apply btn-bh bg-bh-red text-white;
  }

  .btn-bh-blue {
    @apply btn-bh bg-bh-blue text-white;
  }

  .btn-bh-yellow {
    @apply btn-bh bg-bh-yellow text-bh-fg;
  }

  .btn-bh-outline {
    @apply btn-bh bg-transparent text-bh-fg;
  }

  /* ── Card ── */
  .card-bh {
    @apply border-bh border-bh-border shadow-bh-sm;
    background-color: var(--color-white);
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* ── Input ── */
  .input-bh {
    @apply w-full px-3 py-2.5 text-base font-outfit
           border-bh border-bh-border text-bh-fg;
    background-color: var(--color-white);
    transition: border-color 0.15s ease, box-shadow 0.15s ease, background-color 0.15s ease;
  }
  .input-bh:focus {
    @apply outline-none ring-2 ring-bh-blue ring-offset-1;
    border-color: var(--color-blue);
  }
  .input-bh:disabled {
    @apply bg-bh-muted cursor-not-allowed;
  }

  /* ── Headline ── */
  .headline-bh {
    @apply font-outfit font-black tracking-tight text-bh-fg uppercase;
  }

  /* ── Divider ── */
  .divider-bh {
    @apply w-full h-1 bg-bh-fg my-8;
  }
}

/* ── Global Micro-Interactions ── */

/* Smooth focus-visible outlines for keyboard navigation */
*:focus-visible {
  outline: 2px solid var(--color-blue);
  outline-offset: 2px;
  transition: outline-offset 0.1s ease;
}

/* Subtle active state for all interactive elements */
a:active,
button:active {
  transition-duration: 0.05s;
}

/* Image loading fade-in */
img {
  opacity: 1;
  transition: opacity 0.3s ease;
}

img[loading="lazy"] {
  opacity: 0;
}

img[loading="lazy"].loaded,
img[loading="lazy"][complete] {
  opacity: 1;
}
