@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Bauhaus Design Tokens ── */
:root {
  --color-bg: #F0F0F0;
  --color-fg: #121212;
  --color-red: #D02020;
  --color-blue: #1040C0;
  --color-yellow: #F0C020;
  --color-border: #121212;
  --color-muted: #E0E0E0;
  --color-white: #FFFFFF;
  --color-green: #22c55e;

  --color-bg-rgb: 240 240 240;
  --color-fg-rgb: 18 18 18;
  --color-red-rgb: 208 32 32;
  --color-blue-rgb: 16 64 192;
  --color-yellow-rgb: 240 192 32;
  --color-border-rgb: 18 18 18;
  --color-muted-rgb: 224 224 224;
  --color-white-rgb: 255 255 255;

  --shadow-bh-sm: 3px 3px 0px #121212;
  --shadow-bh-md: 5px 5px 0px #121212;

  --border-bh: 3px;
  --border-bh-lg: 5px;
}

/* ── Dark Mode — Linear/Modern Palette ── */
html.dark {
  --color-bg: #050506;
  --color-fg: #EDEDEF;
  --color-red: #FF5555;
  --color-blue: #5E6AD2;
  --color-yellow: #FFD24D;
  --color-border: #161620;
  --color-muted: #0d0d12;
  --color-white: #0a0a0c;
  --color-green: #5AE879;

  --color-bg-rgb: 5 5 6;
  --color-fg-rgb: 237 237 239;
  --color-red-rgb: 255 85 85;
  --color-blue-rgb: 94 106 210;
  --color-yellow-rgb: 255 210 77;
  --color-border-rgb: 22 22 32;
  --color-muted-rgb: 13 13 18;
  --color-white-rgb: 10 10 12;

  --shadow-bh-sm: 0 0 0 1px rgba(255, 255, 255, 0.06), 0 2px 12px rgba(0, 0, 0, 0.3), 0 0 20px rgba(0, 0, 0, 0.15);
  --shadow-bh-md: 0 0 0 1px rgba(255, 255, 255, 0.06), 0 4px 24px rgba(0, 0, 0, 0.4), 0 0 40px rgba(0, 0, 0, 0.2);

  --color-accent: #5E6AD2;
  --color-accent-bright: #6872D9;
  --color-accent-glow: rgba(94, 106, 210, 0.3);
}

/* ── Global Base ── */
@layer base {
  body {
    font-family: 'Outfit', sans-serif;
    background-color: var(--color-bg);
    color: var(--color-fg);
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* Bauhaus: no rounded corners in light mode (dark mode allows rounded corners) */
  html:not(.dark) *,
  html:not(.dark) *::before,
  html:not(.dark) *::after {
    border-radius: 0 !important;
  }

  /* Allow rounded-full to work for badges/circles */
  .rounded-full {
    border-radius: 9999px !important;
  }
}

/* ── Bauhaus Component Classes ── */
@layer components {
  /* ── Buttons ── */
  .btn-bh {
    @apply inline-flex items-center justify-center px-5 py-2.5 font-bold text-sm
           border-bh border-bh-border bg-bh-muted text-bh-fg
           shadow-bh-sm cursor-pointer;
    transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.15s cubic-bezier(0.4, 0, 0.2, 1),
                background-color 0.15s ease;
  }
  .btn-bh:hover {
    @apply translate-y-0.5;
    box-shadow: 1px 1px 0px var(--color-border);
  }
  .btn-bh:active {
    @apply translate-y-1;
    box-shadow: none;
    transition-duration: 0.05s;
  }
  .btn-bh:disabled {
    @apply opacity-50 cursor-not-allowed translate-y-0;
    box-shadow: var(--shadow-bh-sm);
  }

  .btn-bh-red {
    @apply btn-bh bg-bh-red text-white;
  }

  .btn-bh-blue {
    @apply btn-bh bg-bh-blue text-white;
  }

  .btn-bh-yellow {
    @apply btn-bh bg-bh-yellow text-bh-fg;
  }

  .btn-bh-outline {
    @apply btn-bh bg-transparent text-bh-fg;
  }

  /* ── Card ── */
  .card-bh {
    @apply border-bh border-bh-border shadow-bh-sm;
    background-color: var(--color-white);
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* ── Input ── */
  .input-bh {
    @apply w-full px-3 py-2.5 text-base font-outfit
           border-bh border-bh-border text-bh-fg;
    background-color: var(--color-white);
    transition: border-color 0.15s ease, box-shadow 0.15s ease, background-color 0.15s ease;
  }
  .input-bh:focus {
    @apply outline-none ring-2 ring-bh-blue ring-offset-1;
    border-color: var(--color-blue);
  }
  .input-bh:disabled {
    @apply bg-bh-muted cursor-not-allowed;
  }

  /* ── Headline ── */
  .headline-bh {
    @apply font-outfit font-black tracking-tight text-bh-fg uppercase;
  }

  /* ── Divider ── */
  .divider-bh {
    @apply w-full h-1 bg-bh-fg my-8;
  }
}

/* ── Global Micro-Interactions ── */

/* Smooth focus-visible outlines for keyboard navigation */
*:focus-visible {
  outline: 2px solid var(--color-blue);
  outline-offset: 2px;
  transition: outline-offset 0.1s ease;
}

/* Subtle active state for all interactive elements */
a:active,
button:active {
  transition-duration: 0.05s;
}

/* Image loading fade-in */
img {
  opacity: 1;
  transition: opacity 0.3s ease;
}

img[loading="lazy"] {
  opacity: 0;
}

img[loading="lazy"].loaded,
img[loading="lazy"][complete] {
  opacity: 1;
}

/* ══════════════════════════════════════════════════
   Dark Mode — Linear/Modern Design System
   ══════════════════════════════════════════════════ */

/* Body — vertical depth gradient */
html.dark body {
  background: radial-gradient(ellipse at top, #0a0a0f 0%, #050506 50%, #020203 100%);
}

/* Cards — gradient glass, rounded, multi-layer shadow */
html.dark .card-bh {
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
  border-width: 1px;
  border-color: rgba(255, 255, 255, 0.06);
  border-radius: 16px !important;
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.06),
    0 2px 20px rgba(0, 0, 0, 0.4),
    0 0 40px rgba(0, 0, 0, 0.2);
  transition: transform 0.25s cubic-bezier(0.16, 1, 0.3, 1),
              box-shadow 0.25s cubic-bezier(0.16, 1, 0.3, 1),
              border-color 0.25s cubic-bezier(0.16, 1, 0.3, 1);
}

html.dark .card-bh:hover {
  border-color: rgba(255, 255, 255, 0.10);
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.08),
    0 4px 24px rgba(0, 0, 0, 0.5),
    0 0 80px rgba(94, 106, 210, 0.08);
}

/* Inputs — dark surface, rounded, accent focus ring */
html.dark .input-bh {
  background: #0F0F12;
  border-width: 1px;
  border-color: rgba(255, 255, 255, 0.10);
  border-radius: 8px !important;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

html.dark .input-bh:focus {
  border-color: var(--color-accent);
  box-shadow: 0 0 0 3px rgba(94, 106, 210, 0.25);
  background: #111116;
  outline: none;
}

/* Buttons — subtle glass with inner highlight */
html.dark .btn-bh {
  background: rgba(255, 255, 255, 0.05);
  border-width: 1px;
  border-color: rgba(255, 255, 255, 0.10);
  border-radius: 8px !important;
  box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  transition: transform 0.2s cubic-bezier(0.16, 1, 0.3, 1),
              box-shadow 0.2s cubic-bezier(0.16, 1, 0.3, 1),
              background-color 0.2s ease,
              border-color 0.2s ease;
}

html.dark .btn-bh:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.15);
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.12),
    0 4px 12px rgba(0, 0, 0, 0.3);
}

html.dark .btn-bh:active {
  transform: scale(0.98);
  box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.06);
  transition-duration: 0.1s;
}

html.dark .btn-bh:disabled {
  box-shadow: none;
  opacity: 0.4;
}

/* Primary button — accent indigo with glow */
html.dark .btn-bh-red {
  background: var(--color-accent);
  color: #fff;
  border-color: rgba(94, 106, 210, 0.5);
  box-shadow:
    0 0 0 1px rgba(94, 106, 210, 0.5),
    0 4px 12px rgba(94, 106, 210, 0.3),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
}

html.dark .btn-bh-red:hover {
  background: var(--color-accent-bright);
  box-shadow:
    0 0 0 1px rgba(94, 106, 210, 0.6),
    0 6px 20px rgba(94, 106, 210, 0.4),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.25);
}

html.dark .btn-bh-red:active {
  background: #5560c5;
  box-shadow:
    0 0 0 1px rgba(94, 106, 210, 0.5),
    0 2px 8px rgba(94, 106, 210, 0.2),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
}

/* Blue button — secondary ghost style */
html.dark .btn-bh-blue {
  background: rgba(94, 106, 210, 0.15);
  color: #8b93e0;
  border-color: rgba(94, 106, 210, 0.25);
  box-shadow: inset 0 1px 0 0 rgba(94, 106, 210, 0.1);
}

html.dark .btn-bh-blue:hover {
  background: rgba(94, 106, 210, 0.25);
  border-color: rgba(94, 106, 210, 0.35);
}

/* Yellow button — muted yellow glow */
html.dark .btn-bh-yellow {
  background: rgba(255, 210, 77, 0.15);
  color: #FFD24D;
  border-color: rgba(255, 210, 77, 0.3);
  box-shadow: inset 0 1px 0 0 rgba(255, 210, 77, 0.1);
}

html.dark .btn-bh-yellow:hover {
  background: rgba(255, 210, 77, 0.25);
  border-color: rgba(255, 210, 77, 0.4);
}

/* Header — dark glass, no red */
html.dark .site-header {
  background: rgba(5, 5, 6, 0.80) !important;
  backdrop-filter: blur(24px) saturate(1.2);
  -webkit-backdrop-filter: blur(24px) saturate(1.2);
  border-bottom-width: 1px !important;
  border-bottom-color: rgba(255, 255, 255, 0.06) !important;
  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.04);
}

/* Footer — deepest dark */
html.dark .site-footer {
  background: #020203 !important;
  color: #8A8F98 !important;
  border-top-width: 1px !important;
  border-top-color: rgba(255, 255, 255, 0.06) !important;
}

/* Divider — gradient fade line */
html.dark .divider-bh {
  background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.10), transparent);
  height: 1px;
}

/* Headline — gradient text */
html.dark .headline-bh {
  background: linear-gradient(to bottom, #ffffff, rgba(255, 255, 255, 0.70));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: none;
}

/* Focus ring — accent indigo */
html.dark *:focus-visible {
  outline-color: var(--color-accent);
  outline-offset: 2px;
}
